C port of https://github.com/SauravMaheshkar/os1
